<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="description" content="" />
	<meta name="Keywords" content="" />
	<title>Document</title>
	<style>
		* {
			padding: 0;
			margin: 0;
		}

		.wrap {
			width: 300px;
			margin: 100px auto 0;
		}

		table {
			border-collapse: collapse;
			border-spacing: 0;
			border: 1px solid #c0c0c0;
			width: 300px;
		}

		th,
		td {
			border: 1px solid #d0d0d0;
			color: #404060;
			padding: 10px;
		}

		th {
			background-color: #09c;
			font: bold 16px "微软雅黑";
			color: #fff;
		}

		td {
			font: 14px "微软雅黑";
		}

		tbody tr {
			background-color: #f0f0f0;
		}

		tbody tr:hover {
			cursor: pointer;
			background-color: #fafafa;
		}
	</style>
</head>
<body>
	<div class="wrap">
		<table>
			<thead>
				<tr>
					<th>
						<input type="checkbox" id="j_cbAll" />
					</th>
					<th>菜名</th>
					<th>饭店</th>
				</tr>
			</thead>
			<tbody id="j_tb">
				<tr>
					<td>
						<input type="checkbox" />
					</td>
					<td>红烧肉</td>
					<td>田老师</td>
				</tr>
				<tr>
					<td>
						<input type="checkbox" />
					</td>
					<td>西红柿鸡蛋</td>
					<td>田老师</td>
				</tr>
				<tr>
					<td>
						<input type="checkbox" />
					</td>
					<td>油炸榴莲</td>
					<td>田老师</td>
				</tr>
				<tr>
					<td>
						<input type="checkbox" />
					</td>
					<td>清蒸助教</td>
					<td>田老师</td>
				</tr>
			</tbody>
		</table>
	</div>
	<script src="../../common.js"></script>
	<script>
		//获取总的复选框
		var allObj = my$("j_cbAll");
		//获取小的复选框
		var cks = my$("j_tb").getElementsByTagName("input");
		//点击全选的这个复选框获取当前状态,然后设置小复选框的状态
		allObj.onclick = function () {
			// console.log(this.checked); //true
			for (let i = 0; i < cks.length; i++) {
				cks[i].checked = this.checked; //状态传递,一个循环搞定
			}
		}
		// 获取所有的小复选框,添加点击事件 
		for (let i = 0; i < cks.length; i++) {
			cks[i].onclick = function () {
				//判断是否所有的复选框都是选中
				var flag = true; //默认都是选中状态
				for (let j = 0; j < cks.length; j++) {
					if (!cks[j].checked) { //如果只要一个没选中就进来
						flag = false;
						break;
					}
				}
				//全选这个复选框的状态
				allObj.checked = flag;
			}
		}
	</script>
</body>
</html>