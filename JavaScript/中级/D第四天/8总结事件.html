<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #dv1 {
            width: 300px;
            height: 300px;
            background-color: red;
            margin: auto;
        }

        #dv2 {
            width: 200px;
            height: 200px;
            background-color: pink;
            margin: auto;
        }

        #dv3 {
            width: 100px;
            height: 100px;
            background-color: yellow;
            margin: auto;
        }
    </style>
</head>
<body>
    <script>
        //事件有三个阶段
        /*
        * 1.事件捕获阶段:从外向内
        * 2.事件目标阶段:最开始选择
        * 3.事件冒泡阶段:从里向外
        *
        * addEventListener("没有on的事件类型",事件处理函数,控制事件阶段的事件触发过程中可能或出现事件冒泡的效果,为了阻止事件冒泡--->)
        * window.event.cancelBubble = true;谷歌IE8支持,火狐不支持
        * window.event就是一个对象,是IE中的标准
        * e.stopPropagation();阻止事件冒泡 ----> 谷歌火狐支持
        *
        * window.event和e都是事件参数对象,一个是IE标准,一个是火狐标准
        * 事件参数e在IE8中是不存在的,此时用window.event来代替
        *
        *addEventListener中的第三个参数是控制事件阶段的
        * 事件的阶段有三个:
        * 通过e.eventPhase这个属性可以知道当前的事件是什么阶段的
        * 如果这个属性的值是:
        * 1--捕获阶段
        * 2--目标阶段
        * 3--冒泡阶段
        * 一般都用冒泡阶段,很少用捕获阶段
        * 冒泡阶段是从里向外的
        * 捕获阶段是从外向内的
        *
        */
    </script>
    <div id="dv1">1
        <div id="dv2">2
            <div id="dv3">3</div>
        </div>
    </div>
    <script src="../../common.js"></script>
    <script>
        var dvObjs = [my$("dv1"), my$("dv2"), my$("dv3")];
        //循环遍历所有元素
        dvObjs.forEach(function (ele) {
            //为每个元素注册点击事件
            ele.addEventListener("click", function (e) {
                console.log(this.id + "====>" + e.eventPhase);
            }, false);
        });
    </script>
</body>
</html>